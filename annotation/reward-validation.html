<meta charset="utf-8" />
<script>
  //
  // This method Gets URL Parameters (GUP)
  //
  function gup(name) {
    var regexS = "[\\?&]" + name + "=([^&#]*)";
    var regex = new RegExp(regexS);
    var tmpURL = window.location.href;
    var results = regex.exec(tmpURL);
    if (results == null) return "";
    else return results[1];
  }
  function decode(strToDecode) {
    var encoded = strToDecode;
    return unescape(encoded.replace(/\+/g, " "));
  }

  window.onload = function () {
    if (!window.jQuery) {
      // jQuery is not loaded
      alert(
        "Warning: it seems that jquery is disabled on your browser.  This HIT might not work properly without javascript and jquery code enabled (if you have extensions that block jquery or an old browser version, this may prevent the dynamic elements of the HIT from functioning).  Please ensure that you have jquery enabled by temporarily disabling extensions that interfere with jquery and/or trying a different browser version.",
      );
    }
    //checkIfWorkerExists();
    layout();
  };
</script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
  integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
  crossorigin="anonymous"
/>
<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"
></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
  crossorigin="anonymous"
></script>
<!--For overflow box-->
<!-- <script src="https://cdn.tailwindcss.com"></script> -->
<!--For autocomplete-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.devbridge-autocomplete/1.4.7/jquery.autocomplete.js"></script>
<!--link ref="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-autocomplete/1.0.7/jquery.auto-complete.css"--><!--script src="https://homes.cs.washington.edu/~msap/debug/neural-detox/emoji.json" ></script>

  <script src="https://homes.cs.washington.edu/~msap/debug/neural-detox/emojiv2.js"></script-->
<section
  class="container"
  id="preInstruction"
  style="margin-bottom: 0px; padding: 0px 10px; color: #333333"
>
  <div class="card">
    <div
      class="card-header"
      style="color: #fff; background-color: #337ab7; border-color: #337ab7"
    >
      <strong>Short instructions &amp; Consent Form</strong>
    </div>

    <div class="card-body row">
      <div class="col-7">
        <p>
          <em><strong>Summary</strong></em
          >: This research study aims to study realistic social interactions
          across contexts between agents with different profiles and social
          goals.
        </p>

        <p>
          <em>Background:</em> Here at Carnegie Mellon University, we're really
          interested in figuring out how well AI systems understand social
          situations. These AI systems can talk like humans, but we're not sure
          how good they are at having meaningful conversations with a specific
          purpose. So we're trying to assess the real extent of social
          interaction skills that current AI systems possess. By answering this
          question, we hope to not only uncover the strengths and limitations of
          these systems, but also further improve them. Our work is dedicated to
          bridging the gap between technology and human-like collaborative
          interactions, ultimately paving the way for more proficient and
          pro-social AI.
        </p>

        <p>
          <em>Participation</em>: You must be at least 18 years old.
          Participation is voluntary. You may discontinue participation at any
          time during the research activity. You may print a copy of this
          consent form for your records.
        </p>
      </div>

      <div class="col-5" style="font-size: 0.9em">
        <p>
          <em>Data collection &amp; sharing</em>: We will not ask you for your
          name, and the data collected in this study will be made unidentifiable
          to the best of our extent. We will securely store the data on our
          servers and only share with qualified researchers. If you later decide
          that you do not want your responses included in this study, please
          email so we can exclude your work.
        </p>

        <p>
          <em>Contact</em>: If you have any questions about this pilot study,
          you should feel free to ask them by contacting us (via the MTurk
          interface or via email at maartensap@cmu.edu). If you have questions
          or concerns later, desire additional information, or wish to withdraw
          your participation please contact Maarten Sap via e-mail in accordance
          with the contact information listed above.
          <!-- If you have questions pertaining to your
          rights as a research participant; or to report concerns to this study,
          you should contact the Office of Research Integrity and Compliance at
          Carnegie Mellon University, referencing study number
          STUDY2022_00000331. Email:
          <a href="mailto:irb-review@andrew.cmu.edu"
            >irb-review@andrew.cmu.edu</a
          >. Phone: 412-268-1901 or 412-268-5460. -->
        </p>
      </div>

      <div class="col-12">
        <div class="alert alert-info" role="alert">
          Note: This is only a pilot study! More HITs would be available in the
          future. Meanwhile, we would love to hear your feedback on how to make
          the task easier to understand!
        </div>
        <div class="alert alert-warning" role="alert">
          We expect you to complete the task within approximately 10 to 15
          minutes. and we will manually check the quality of your work. If we
          see evidence of not taking the task seriously, you might risk losing
          your qualification to participate in future HITs. Furthermore,
          <em
            >we ask you to not use any AI tools to assist you in completing the
            task, and if we find evidence of using such tools, you might risk
            getting your HIT rejected.</em
          >
        </div>

        <hr />
        <h6>Consent to the task to participate:</h6>

        <div class="form-check">
          <label class="form-check-label"
            ><input
              class="form-check-input"
              id="consent"
              name="consent"
              onclick="toggleConsent(this.checked)"
              type="checkbox"
            />
            Checking this box indicates that you have read and understood the
            information above, are 18 years or older, and agree to participate
            in our study.
          </label>
        </div>
        &nbsp;

        <div
          class="alert alert-warning"
          id="consentMessage"
          style="max-width: 400px; margin: auto"
        >
          You must check the box to continue the task! If you do not consent,
          feel free to return the HIT.
        </div>

        <div style="display: none">
          <input
            id="clickedConsentTime"
            name="clickedConsentTime"
            placeholder=""
            type="text"
          />
          <input
            id="clickedSubmitTime"
            name="clickedSubmitTime"
            placeholder=""
            type="text"
          />
        </div>
      </div>
    </div>
  </div>
</section>
<!--END OF HIT HEADER; START OF HIT BODY-->

<section
  class="container"
  id="actualTask"
  style="color: #333333; display: none"
>
  <fieldset>
    <div class="card" style="display: block">
      <div class="card-header">
        <h4 class="card-title" style="">
          Full Instructions &nbsp; &nbsp;
          <a
            aria-controls="instructions"
            aria-expanded="false"
            data-toggle="collapse"
            href="#instructions"
            role="button"
            style="color: #0080ff; text-decoration: underline"
          >
            (Expand/Collapse)
          </a>
        </h4>
      </div>

      <div class="collapse show" id="instructions" style="margin: 2em">
        <div class="row">
          <div class="col-12">
            <h5>Detailed instructions</h5>

            <p style="margin-bottom: 0.5rem">
              <span class="numbering">1)</span>Carefully read the given social
              interaction between two agents, with a US sociocultural
              perspective in mind.
            </p>

            <p style="margin-bottom: 0.5rem">
              <span class="numbering">2)</span>Account for the context
              (scenario, participant identities/backgrounds, participant goals)
              when interpreting the social interaction.
              <!--em>Read the message carefully. </em>
                  When you interpret the message, make sure you take into account the speaker and listener's
                  identities as well as the situation.-->
            </p>

            <p style="margin-bottom: 0.5rem">
              <span class="numbering">3)</span>Rate the social interaction using
              the given sliders, along the following 7 dimensions, explained
              below.
            </p>
            &nbsp;

            <h5>Dimensions and scales for evaluating social interactions:</h5>

            <table id="examples-table">
              <tbody>
                <tr>
                  <td class="cb-teal">Believability</td>
                  <td class="cb-gray">
                    Evaluate whether the agents interact in a natural and
                    realistic manner. For example, do agents confuse their
                    identities? Do agents repeat others' words/actions without
                    solid reasons? Are the agents being overly polite,
                    considering the context? Do the actions of the agent align
                    with their character traits (e.g., personality, values, and
                    etc.)?
                    <strong
                      >Use the slider to assign a value between 0 to 10, with a
                      higher score indicating more believability.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-purple">Relationship</td>
                  <td class="cb-gray">
                    Analyze what relationship the agents have with each other
                    before and after the interaction. Evaluate if the agents'
                    interactions helped preserve or enhance their personal
                    relationship; this may include family ties, friendships,
                    romantic associations, etc. Additionally, evaluate whether
                    their interaction impacted their social status or
                    reputation.
                    <strong
                      >Use the slider to assign a value between -5 to 5, with a
                      positive score indicating that their relationship has
                      improved due to the interaction.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-gold">Knowledge</td>
                  <td class="cb-gray">
                    Analyze what information the agents have gained through the
                    interaction. Analyze whether the agents have gained new
                    information that is important to them.
                    <strong
                      >Use the slider to assign a value between 0 to 10, with a
                      higher score indicating the agents have gained new and
                      important knowledge.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-orange">Secret</td>
                  <td class="cb-gray">
                    Analyze what secrets, secret intentions, or private
                    information each agent might want to keep. Analyze whether
                    they successfully keep their secrets.
                    <strong
                      >Use the slider to assign a value between -10 to 0, with
                      -10 indicating the participants leaked critical secrets
                      and 0 indicating no secrets were revealed.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-green">Social Rules</td>
                  <td class="cb-gray">
                    Evaluate whether agents violated any moral rules or laws in
                    their interaction.
                    <strong
                      >Use the slider to assign a value between -10 to 0, with a
                      negative score indicating the agents have violated moral
                      rules or laws.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-brown">Financial and Material Benefits</td>
                  <td class="cb-gray">
                    Evaluate whether the agents' interaction contributed towards
                    financial and material benefits. Analyze what the agent
                    would gain or lose after the interactions. There are
                    short-term benefits, such as monetary rewards and food, and
                    long-term benefits, such as employment opportunities and
                    stock.
                    <strong
                      >Use the slider to assign a value between -5 to 5, with
                      positive values indicating that agents gained financial
                      and material benefits.</strong
                    >
                  </td>
                </tr>
                <tr>
                  <td class="cb-pink">Goal</td>
                  <td class="cb-gray">
                    Re-read each agents' social goals. Analyze the extent to
                    which agents have managed to achieve these goals.
                    <strong
                      >Use the slider to assign a value between 0 to 10, with a
                      higher score indicating that agents are making progress
                      towards their social goals.</strong
                    >
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <b>‚ùóNotes</b>
            <a
              aria-controls="instructions"
              aria-expanded="false"
              data-toggle="collapse"
              href="#notes"
              role="button"
              style="color: #0080ff"
            >
              (Expand/Collapse) </a
            >:

            <div class="collapse show" id="notes">
              <ul>
                <li>
                  <b>Agents' goals and background:</b> You will see the complete
                  social goals and backgrounds of the agents, even though the
                  agents themselves were unaware of each other's social goals.
                  They possessed only partial knowledge of each other's
                  backgrounds based on their specific relationships.
                </li>
              </ul>
            </div>
          </div>

          <div class="row justify-content-center" style="margin-top: 20px">
            <div class="col-11" id="table-container">
              <h5>
                Example
                <a
                  aria-controls="instructions"
                  aria-expanded="false"
                  data-toggle="collapse"
                  href="#example"
                  role="button"
                  style="color: #0080ff; text-decoration: underline"
                >
                  (Expand/Collapse)
                </a>
              </h5>
              <div class="collapse show" id="example">
                <div
                  class="d-flex flex-column"
                  style="
                    margin-top: 20px;
                    margin-bottom: 20px;
                    border-radius: 3px;
                    box-shadow: 1.5px 1.5px 3px 3px rgba(0, 0, 1, 0.2);
                  "
                >
                  <div
                    class="row justify-content-center"
                    style="
                      background-color: ghostwhite;
                      border: 1px solid darkgrey;
                      border-radius: 3px;
                      width: 90%;
                      margin-left: auto;
                      margin-right: auto;
                      margin-top: 20px;
                    "
                  >
                    <div class="col-12 text-center" style="margin: 1em 0">
                      <div class="situation">
                        <em
                          style="
                            font-size: 18;
                            color: #006cd8;
                            font-weight: bold;
                          "
                          >Social Interaction</em
                        ><span id="speechContextInput"></span>
                      </div>
                    </div>
                    <div class="col-12">
                      <strong>Scenario:</strong> Two friends deciding on a movie
                      to watch on Netflix. <br /><br />
                      <strong>Participants:</strong> Donovan Reeves and Noah
                      Davis <br /><br />
                      <strong>Donovan Reeves's background:</strong> Donovan
                      Reeves is a 27-year-old Man Software Developer. He/him
                      pronouns. Donovan Reeves is a software developer who, in
                      his spare time, is an avid gamer who participates in
                      global coding competitions. Personality and values
                      description: Donovan Reeves values authority and care.
                      Even though he's outgoing and hardworking, he can be
                      somewhat moody. His decision-making style varies according
                      to the situation at hand. Donovan's secrets: Secretly
                      releasing classified government information online
                      <br /><br />
                      <strong>Noah Davis's background:</strong> Noah Davis is a
                      40-year-old Man Coach. He/him pronouns. Noah Davis has a
                      swimming pool. Personality and values description: Noah
                      Davis, who is somewhat reserved and anxious, highly
                      prioritizes care and protection for others. He is cautious
                      when making decisions. Noah's secrets: He has a secret
                      identity as a stand-up comedian. <br /><br />
                      <strong>Donovan Reeves's goal:</strong> Advocate for a
                      comedy film ([hint] could use all kinds of strategies to
                      persuade them to watch the genre you like, e.g., offering
                      them a boba tea) <br /><br />
                      <strong>Noah Davis's goal:</strong> To watch a thriller
                      ([hint] could use all kinds of strategies to persuade them
                      to watch the genre you like, e.g., offering them a boba
                      tea)
                    </div>
                    <div class="col-12 text-center" style="margin: 1em 0">
                      <div class="situation">
                        <em
                          style="
                            font-size: 18;
                            color: #006cd8;
                            font-weight: bold;
                          "
                          >Episode</em
                        ><span id="episodeContextInput"></span>
                      </div>
                    </div>
                    <div class="col-12" style="margin-top: 1em">
                      <strong>Turn #1</strong>
                      <br />
                      Donovan Reeves said: "Hey Noah! How about we watch a
                      comedy film tonight on Netflix?"
                      <br /><br />
                      <strong>Turn #2</strong>
                      <br />
                      Noah Davis said: "Hey Donovan! How about we watch a
                      thriller film tonight on Netflix instead? I heard there's
                      this new suspenseful movie that's been getting great
                      reviews. It's called 'The Silent Witness'. It's about a
                      detective trying to solve a mysterious murder case. I
                      think it would be really exciting and keep us on the edge
                      of our seats!"
                      <br /><br />
                      <strong>Turn #3</strong>
                      <br />
                      Donovan Reeves said: "That sounds like a really intense
                      movie, Noah! But I was thinking we could use a good laugh
                      tonight. Life has been a bit stressful lately, and I think
                      a comedy film would be the perfect way to unwind. Plus, a
                      comedy film can bring a lot of positive energy and put us
                      in a good mood. What do you think?"
                      <br /><br />
                      <strong>Turn #4</strong>
                      <br />
                      Noah Davis said: "I understand that life has been
                      stressful lately, Donovan, and I completely get the need
                      for a good laugh to unwind. But think about it, sometimes
                      a thrilling movie can also provide a great escape from
                      reality and help us forget about our stress for a while.
                      'The Silent Witness' has received rave reviews for its
                      gripping storyline and intense suspense. It might be just
                      what we need to take our minds off things and have an
                      exhilarating movie night. What do you say?"
                      <br /><br />
                      <strong>Turn #5</strong>
                      <br />
                      Donovan Reeves said: "I completely understand the appeal
                      of a thrilling movie, Noah. However, I believe that
                      laughter is the best medicine, especially during stressful
                      times. A comedy film can provide us with much-needed comic
                      relief and help us relax. Plus, it's always great to share
                      some laughs with a good friend like you. How about giving
                      the comedy genre a chance tonight?"
                      <br /><br />
                      <strong>Turn #6</strong>
                      <br />
                      Noah Davis [non-verbal communication] Noah smiles warmly
                      and nods in agreement with Donovan's suggestion.
                      <br /><br />
                      <strong>Turn #7</strong>
                      <br />
                      Donovan Reeves said: "How about this, Noah? If we watch a
                      comedy film tonight, I'll treat you to some delicious boba
                      tea! We can enjoy the movie together with a refreshing and
                      tasty beverage. What do you say?"
                      <br /><br />
                      <strong>Turn #8</strong>
                      <br />
                      Noah Davis [non-verbal communication] Noah raises his
                      eyebrows and nods in agreement with Donovan's offer.
                      <br /><br />
                      <strong>Turn #9</strong>
                      <br />
                      Donovan Reeves said: "Great! I'm glad you're on board,
                      Noah. Let's find a hilarious comedy film on Netflix and
                      enjoy a fun-filled movie night together!"
                      <br /><br />
                      <strong>Turn #10</strong>
                      <br />
                      Noah Davis [non-verbal communication] Noah gives Donovan a
                      thumbs up
                      <br /><br />
                      <!-- Add the table below this point -->
                    </div>
                    <div class="col-12 text-center" style="margin: 1em 0">
                      <div class="situation">
                        <em
                          style="
                            font-size: 18;
                            color: #006cd8;
                            font-weight: bold;
                          "
                          >Example Social Interaction Ratings</em
                        ><span id="episodeContextInput"></span>
                      </div>
                    </div>
                    <div
                      class="table-responsive"
                      style="margin-left: 20px; margin-right: 20px; width: 100%"
                    >
                      <table
                        class="table table-hover"
                        id="examples-table"
                        style="background-color: white"
                      >
                        <thead class="thead-light">
                          <tr>
                            <th scope="col" style="width: 10%">Dimension</th>
                            <th scope="col" style="width: 40%">Reasoning</th>
                            <th scope="col" style="width: 10%">Rating</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="cb-teal">
                              Believability<br />(0 to 10)
                            </td>
                            <td>
                              Donovan interacts with Noah in a natural and
                              realistic manner. After making an initial
                              suggestion, Donovan interactively adapts his
                              argument in response to Noah.
                              <br /><br />Similarly, Noah interacts with Donovan
                              in a natural and realistic manner. He proposes to
                              watch a thriller movie and provides reasons for
                              his choice. Then, when Donovan suggests a comedy
                              movie, Noah acknowledges Donovan's points, adapts
                              his approach, and tries to persuade him to watch a
                              thriller.<br />
                            </td>
                            <td>Agent 1: 9<br />Agent 2: 9</td>
                          </tr>
                          <tr>
                            <td class="cb-purple">
                              Relationship<br />(-5 to 5)
                            </td>
                            <td>
                              Before the interaction, Donovan and Noah were good
                              friends. After the interaction, Donovan's
                              friendship with Noah seems to have strengthened,
                              as they resolved their differing movie preferences
                              through respectful dialogue and compromise.
                              Donovan's offer to buy Noah tea reinforces their
                              friendship.<br /><br />
                              During this interaction, Noah's friendship with
                              Donovan also seems to have strengthened. Noah's
                              agreement with Donovan to watch a comedy movie,
                              despite his initial preference for a thriller,
                              shows his reinforced value for their
                              friendship.<br />
                            </td>
                            <td>Agent 1: 3<br />Agent 2: 3</td>
                          </tr>
                          <tr>
                            <td class="cb-gold">Knowledge<br />(0 to 10)</td>
                            <td>
                              Donovan doesn't appear to gain new information
                              through this interaction. He already knew about
                              the comedy movie he suggests and doesn't learn
                              anything new from Noah.<br /><br />

                              Noah doesn't appear to gain new information
                              through this interaction. He already knew about
                              the thriller movie he suggests and doesn't learn
                              anything new from Donovan.<br />
                            </td>
                            <td>Agent 1: 2<br />Agent 2: 2</td>
                          </tr>
                          <tr>
                            <td class="cb-orange">Secret<br />(-10 to 0)</td>
                            <td>
                              Donovan did not hint or reveal his secret about
                              releasing classified government information
                              online. <br /><br />

                              Noah did not hint or reveal his secret identity as
                              a stand-up comedian.<br />
                            </td>
                            <td>Agent 1: 0<br />Agent 2: 0</td>
                          </tr>
                          <tr>
                            <td class="cb-green">
                              Social Rules<br />(-10 to 0)
                            </td>
                            <td>
                              Donovan doesn't violate any moral rules or laws
                              during his interaction with Noah. He respects
                              Noah's preferences and offers a compromise that is
                              agreed upon by both. <br /><br />
                              Noah doesn't violate any moral rules or laws
                              during his interaction with Donovan. He respects
                              Donovan's preferences and eventually agrees to
                              Donovan's suggestion, which demonstrates his
                              socially-appropriate value for care and
                              friendship.<br />
                            </td>
                            <td>Agent 1: 0<br />Agent 2: 0</td>
                          </tr>
                          <tr>
                            <td class="cb-brown">
                              Financial and Material Benefits (-5 to 5)
                            </td>
                            <td>
                              While there are no direct financial or material
                              benefits gained from this interaction, Donovan
                              does offer to buy Noah a boba tea during the
                              interaction. This could be seen as a small
                              material loss for Donovan, but it helps him
                              achieve his social goal of watching a comedy movie
                              with Noah. <br /><br />
                              Noah does agree to Donovan's offer of a boba tea,
                              which can be seen as a small material gain for
                              him.<br />
                            </td>
                            <td>Agent 1: -1<br />Agent 2: 1</td>
                          </tr>
                          <tr>
                            <td class="cb-pink">Goal (0 to 10)</td>
                            <td>
                              Donovan's goal is to persuade Noah to watch a
                              comedy film. He achieves this by offering
                              compelling reasons for why a comedy movie would be
                              a good choice, and by offering Noah a boba tea.<br /><br />
                              Despite Noah's initial preference for a thriller
                              movie, Donovan successfully convinces him to agree
                              to a comedy movie. Therefore, he doesn't achieve
                              his goal of watching a thriller movie.
                            </td>
                            <td>Agent 1: 9<br />Agent 2: 3</td>
                          </tr>
                        </tbody>
                      </table>
                      <!-- End of the table -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <br />
    <br />
    <br />
    <h3 class="center">Your Task</h3>

    <div
      class="d-flex flex-column"
      style="
        margin-top: 20px;
        margin-bottom: 20px;
        border-radius: 3px;
        box-shadow: 1.5px 1.5px 3px 3px rgba(0, 0, 1, 0.2);
      "
    >
      <div
        class="row justify-content-center"
        style="
          background-color: ghostwhite;
          border: 1px solid darkgrey;
          border-radius: 3px;
          width: 90%;
          margin-left: auto;
          margin-right: auto;
          margin-top: 20px;
        "
      >
        <div class="col-12 text-center" style="margin: 1em 0">
          <div class="situation">
            <em style="font-size: 18; color: #006cd8; font-weight: bold"
              >Social Scenario</em
            ><span id="speechContextInput"></span>
          </div>
        </div>
        <div class="col-12">
          <b>Scenario: </b> ${scenario}
          <br />
          <b>Participants: </b>${participants} <br /><br />
          <b>${p1_name} background: </b>${p1_background} <br /><br />
          <b>${p2_name} background: </b>${p2_background} <br /><br />
          <b>${p1_name} goal: </b>${p1_goal} <br /><br />
          <b>${p2_name} goal: </b>${p2_goal}
          <br />
        </div>
        <div class="col-12 text-center" style="margin: 1em 0">
          <div class="situation">
            <em style="font-size: 18; color: #006cd8; font-weight: bold"
              >Episode</em
            ><span id="episodeContextInput"></span>
            <a
              aria-controls="instructions"
              aria-expanded="false"
              data-toggle="collapse"
              href="#episodes"
              role="button"
              style="color: #0080ff; text-decoration: underline"
            >
              (Expand/Collapse)
            </a>
          </div>
        </div>
        <div class="collapse show" id="episodes">
          <div
            class="overflow-auto col-12"
            style="margin-top: 1em; height: 600px"
          >
            ${episode_part1}
            <br /><br />
            ${episode_part2}
            <br /><br />
            ${episode_part3}
            <br /><br />
            ${episode_part4}
            <br /><br />
            ${episode_part5}
            <br /><br />
            ${episode_part6}
            <br /><br />
            ${episode_part7}
            <br /><br />
            ${episode_part8}
            <br /><br />
            ${episode_part9}
            <br /><br />
            ${episode_part10}
            <br /><br />
            ${episode_part11}
            <br /><br />
            ${episode_part12}
            <br /><br />
            ${episode_part13}
            <br /><br />
            ${episode_part14}
            <br /><br />
            ${episode_part15}
            <br /><br />
            ${episode_part16}
            <br /><br />
            ${episode_part17}
            <br /><br />
            ${episode_part18}
            <br /><br />
            ${episode_part19}
            <br /><br />
            ${episode_part20}
            <br /><br />
            ${episode_part21}
          </div>
        </div>
        <div class="col-12 text-center" style="margin: 1em 0">
          <div class="situation">
            <em style="font-size: 18; color: #006cd8; font-weight: bold"
              >Your Ratings</em
            ><span id="episodeContextInput"></span>
          </div>
          <br />
          <div class="alert alert-info" role="alert">
            Hover the mouse over the colored dimension to see the descriptions.
          </div>
        </div>
        <div class="col-12" style="margin-top: 1em">
          <style>
            table.centered {
              border-collapse: collapse;
              width: 100%; /* Set table width to 100% */
            }
            th,
            td {
              padding: 10px;
              border: 1px solid black;
            }
          </style>
          <form id="mturk-form">
            <table class="centered">
              <tr>
                <th></th>
                <th>${p1_name}</th>
                <th>${p2_name}</th>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-teal"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="First, evaluate whether the agents interact in a natural and realistic manner. Then evaluate whether the actions of the agent align with their character traits (e.g., personality, values, and etc.)?"
                  >
                    Believability
                  </p>
                  (0 to 10, a higher score indicating more believability)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_believability_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent1_believability"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span
                    id="agent1_believability_value"
                    >5</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_believability_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent2_believability"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span
                    id="agent2_believability_value"
                    >5</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-purple"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Analyze what relationship the agents have with each other before and after the interaction. Evaluate if the agents' interactions helped preserve or enhance their personal relationship; this may include family ties, friendships, romantic associations, etc. Evaluate whether their interaction impacted their social status or reputation."
                  >
                    Relationship
                  </p>
                  (-5 to 5, a higher score indicating their relationship has
                  improved during the interaction)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_relationship_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-5"
                    max="5"
                    value="0"
                    class="slider"
                    name="agent1_relationship"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_relationship_value"
                    >5</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_relationship_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-5"
                    max="5"
                    value="0"
                    class="slider"
                    name="agent2_relationship"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_relationship_value"
                    >5</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-gold"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Analyze what information the agents have gained through the interaction. Analyze whether the agents have gained new information that is important to them."
                  >
                    Knowledge
                  </p>
                  (0 to 10, a higher score indicating the agent has learned new,
                  important knowledge during the interaction)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_knowledge_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent1_knowledge"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_knowledge_value"
                    >0</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_knowledge_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent2_knowledge"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_knowledge_value"
                    >0</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-orange"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Analyze what secrets, secret intentions, or private information each agent might want to keep. Analyze whether they successfully keep their secrets."
                  >
                    Secret
                  </p>
                  (-10 to 0, a higher score indicating that no secrets were
                  revealed)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_secret_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-10"
                    max="0"
                    value="0"
                    class="slider"
                    name="agent1_secret"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_secret_value"
                    >0</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_secret_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-10"
                    max="0"
                    value="0"
                    class="slider"
                    name="agent2_secret"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_secret_value"
                    >0</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-green"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Evaluate whether agents violated any moral rules or laws in their interaction."
                  >
                    Social Rules
                  </p>
                  (-10 to 0, with a negative score indicating the agents have
                  violated moral rules or laws)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_socialrules_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-10"
                    max="0"
                    value="0"
                    class="slider"
                    name="agent1_socialrules"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_socialrules_value"
                    >0</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_socialrules_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-10"
                    max="0"
                    value="0"
                    class="slider"
                    name="agent2_socialrules"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_socialrules_value"
                    >0</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-brown"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Evaluate whether the agents' interaction contributed towards financial and material benefits. Analyze what the agent would gain or lose after the interactions. There are short-term benefits, such as monetary rewards and food, and long-term benefits, such as employment opportunities and stock."
                  >
                    Financial and Material Benefits
                  </p>
                  (-5 to 5, with positive values indicating that agents gained
                  financial and material benefits)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_financial_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-5"
                    max="5"
                    value="0"
                    class="slider"
                    name="agent1_financial"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_financial_value"
                    >5</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_financial_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="-5"
                    max="5"
                    value="0"
                    class="slider"
                    name="agent2_financial"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_financial_value"
                    >5</span
                  >
                </td>
              </tr>
              <tr>
                <td style="width: 20%">
                  <p
                    class="cb-pink"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Re-read each agents' social goals. Analyze the extent to which agents have managed to achieve these goals."
                  >
                    Goal
                  </p>
                  (0 to 10, with positive values indicating that agents made
                  progress towards their social goals)
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent1_goal_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent1_goal"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent1_goal_value"
                    >0</span
                  >
                </td>
                <td>
                  <textarea
                    class="form-control"
                    name="agent2_goal_rationale"
                    placeholder="Enter your reasoning..."
                    required
                  ></textarea>
                  <br />
                  <input
                    type="range"
                    min="0"
                    max="10"
                    value="5"
                    class="slider"
                    name="agent2_goal"
                  />&nbsp;&nbsp;&nbsp;&nbsp;<span id="agent2_goal_value"
                    >0</span
                  >
                </td>
              </tr>
            </table>
            <br />
            <!-- <input type="submit" value="Submit"> -->
          </form>

          <script>
            // Function to update slider values in real-time
            function updateSliderValue(slider, output) {
              output.innerHTML = slider.value;
            }

            // Attach event listeners to sliders
            document.querySelectorAll(".slider").forEach(function (slider) {
              const output = slider.nextElementSibling;
              updateSliderValue(slider, output);

              slider.addEventListener("input", function () {
                updateSliderValue(slider, output);
              });
            });

            // document.getElementById("mturk-form").addEventListener("submit", function (event) {
            //     event.preventDefault();
            //     // Process the form submission
            //     console.log("Form submitted!");
            // });
          </script>
          <!-- End of the table -->
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
      <div
        class="col-9"
        id="commentSection"
        style="display: inline-block; text-align: center"
      >
        <p style="font-size: 10pt; margin-top: 50px">
          Optional Feedback: Thanks for filling out the questions above! If
          something about the hit was unclear, please either leave a comment in
          the box below! We would like to make this HIT easier for future
          workers, so we really appreciate feedback though it is optional.<br />
          If you have concerns or questions, please email us!
        </p>
        <textarea
          name="commentbox"
          rows="2"
          style="margin-left: 10px; margin-top: 10px; width: 95%"
        ></textarea>
        <br />
        &nbsp;
        <center>
          <div
            class="alert alert-danger"
            id="submitAlert"
            style="display: none"
          >
            Whoops you missed some questions!<br />
            Note: if the submit button is disabled and you&#39;re confident this
            is an error, please screenshot your answers and the console output
            (Ctrl+Shift+J or Cmd+Shift+J).
          </div>
          <input
            class="btn btn-primary"
            id="submitButton"
            type="submit"
            value="Submit Hit!"
          />
        </center>
      </div>
    </div>
  </fieldset>
</section>
<script>
  var targ, btngroup, event, selectedText, aspectDiv, workerInfo;
  var attentionChecks = ["first", "second", "third", "fourth", "fifth"];
  $(function () {
    $('[data-toggle="tooltip"]').tooltip();
  });
  function scrollToAnchor(aid) {
    console.log(aid);
    var aTag = $(aid);
    $("html,body").animate({ scrollTop: aTag.offset().top }, "slow");
  }
  $("label.btn-checkbox>input[type='checkbox']").each(function (ix, e) {
    var value = $(e).parent().prop("innerText").trim();
    e.value = value == "" ? "_other_" : value;
  });

  /* Make the textbox (suggestion) required for the value in a certain range */
  $(".likelihood").on("click", function (e) {
    event = e;
    var num = e.target.name.slice(-1);
    var dim = e.target.name.replace(/Rating\d/, "");
    var val = parseInt(
      $("input[name='" + dim + "Rating" + num + "']:checked").prop("value"),
    );
    console.log(dim, val);
    if (val < 2 && val > -1)
      $("input[name='" + dim + "Suggestion" + num + "']").prop(
        "required",
        "true",
      );
    else
      $("input[name='" + dim + "Suggestion" + num + "']").prop("required", "");
  });
  $(".btn-checkbox").on("click", function (e) {
    targ = e.target;
    aspectDiv = $(targ).closest(".card-body").find(".aspects");

    /* Highlight button if checkbox is clicked */
    if (e.target.tagName == "INPUT") {
      if (targ.checked) $(targ).parent().addClass("active");
      else $(targ).parent().removeClass("active");
    }

    /* Make textboxes required if any checkbox is checked */
    if (
      $(targ).closest(".btn-group-vertical").find("input:checkbox:checked")
        .length > 0
    ) {
      aspectDiv.show();
      aspectDiv.find("input[type='text']").each(function (i, e) {
        if (i > 1) return;
        $(e).prop("required", "true");
      });
    } else {
      aspectDiv.hide();
      aspectDiv.find("input[type='text']").each(function (i, e) {
        $(e).prop("value", "");
        if (i > 1) return;
        $(e).prop("required", "");
      });
    }
    alertMinorityQs("yes");
  });
  $(".collapse-checkbox").on("hide.bs.collapse", function (e) {
    /* If any checkboxes are checked, this makes sure the buttons don't disappear */
    btngroup = e.target;
    if ($(btngroup).find("input:checkbox:checked").length > 0)
      e.preventDefault();
  });
  $(".othercheckbox").on("click", function (e) {
    var checked = $(e.target).prop("checked");
    $(e.target).next().prop("disabled", !checked);
    $(e.target)
      .next()
      .prop("required", checked ? "true" : "");
  });
  $("input[type='text']")
    .prop("pattern", ".{0}|.{3,}")
    .prop("title", "Minimum 3 characters");

  $("button.btn-link").on("click", function (e) {
    //Not sure why I need this, but otherwise accordion submits immediately
    e.preventDefault();
    event = e;
    //console.log(e.target);
  });
  $("#submitButton").on("click", function (e) {
    var val = validate();
    if (!val) {
      e.preventDefault();
      event = e;
      $("#submitAlert").show();
      setTimeout(function () {
        $("#submitAlert").hide(300);
      }, 10000);
    } else {
      // sendWorkerInfo();
      $("#clickedSubmitTime").val(new Date().getTime());
      console.log("Submitted");
    }
  });
  function layout() {
    $("#postText").each(function (i, e) {
      ee = e;
      //e.innerText = renderEmoji(e.innerText);
    });
    var attnIx = Math.floor(Math.random() * attentionChecks.length);
    console.log(
      "Attention check " + (attnIx + 1) + " " + attentionChecks[attnIx],
    );
    $("#attentionCheckInstr").text(attentionChecks[attnIx]);
    $("#attentionCheckCorrect").val(attnIx + 1);
  }
  function getURLParams() {
    var search = location.search;
    if (location.hostname === "homes.cs.washington.edu") {
      search = "?workerId=A1TW2IIFTWJIB2&hitId=Testing";
      console.log(search);
    }

    search = search.substring(1);
    if (search == "") {
      console.log("No search params " + location.href);
      return {};
    }
    var params = JSON.parse(
      '{"' + search.replace(/&/g, '","').replace(/=/g, '":"') + '"}',
      function (key, value) {
        return key === "" ? value : decodeURIComponent(value);
      },
    );

    params["HITId"] = params["hitId"];
    params["HITType"] = "contextSBF-validation";
    console.log(params);
    return params;
  }
  function toggleConsent(checked) {
    if (checked) {
      $("#actualTask").show();
      $("#consentMessage").hide();
      $("#clickedConsentTime").val(new Date().getTime());
      scrollToAnchor("#actualTask");
    } else {
      $("#actualTask").hide();
      $("#consentMessage").show();
    }
  }
  function toggleDontUnderstandAck(checked) {
    if (checked) $("#dontUnderstandAck").show();
    else $("#dontUnderstandAck").hide();
  }
  function prepSQLparamsCheck(urlParams) {
    var out = "";
    out += "tableName=" + "workerDemographics";
    out += "&workerId=" + urlParams["workerId"];
    out += "&HITType=" + urlParams["HITType"];
    out += "&assignmentId=" + urlParams["assignmentId"];
    out += "&HITId=" + urlParams["HITId"];
    return out;
  }
  function prepSQLparamsStore() {
    var out = "";
    out += "tableName=" + "workerDemographics";
    out += "&gender=" + $("#annotatorGender").val();
    out += "&age=" + $("#annotatorAge").val();
    out += "&race=" + $("#annotatorRace").val();
    out += "&politics=" + $('input[name="annotatorPolitics"]:checked').val();
    out +=
      "&otherMinority=" + encodeURIComponent($("#annotatorMinority").val());

    return out;
  }

  function validate() {
    valid = $("input:invalid").length == 0;
    console.log("########## VALIDATING #########\nvalid? " + valid);
    $("input:invalid").each(function (i, e) {
      console.log(e);
    });
    return valid;
  }
  function alertMinorityQs(val) {
    if (val == "yes" && $(".btn-checkbox>input:checked").length == 0) {
      //$("#dummyMinority").prop("required","true");
      $("#alertQminority").show();
    } else {
      //$("#dummyMinority").prop("required","");
      $("#alertQminority").hide();
    }
  }
  var rows;
  function expRows() {
    rows = $("tr.extra-rows");
    $("a:contains('examples')").each(function (ix, link) {
      if (rows.hasClass("show")) link.innerText = "[+] more examples";
      else link.innerText = "[-] less examples";
      console.log(link);
    });
  }

  var divs;
  function expExamples() {
    divs = $("div.extra-exs");
    $("a:contains('examples')").each(function (ix, link) {
      if (divs.hasClass("show")) link.innerText = "[+] more examples";
      else link.innerText = "[-] less examples";
      console.log(link);
    });
  }
</script>
<style type="text/css">
  #examples-table {
      /*border-style: none solid none solid;*/
      border-width: 1px;
      border-color: #dee2e6;
      border-radius: 5px;
      padding: 2px;
    }
    #examples-table td {
      border-top: #dee2e6;
      border-bottom: #dee2e6;
      border-left: #ffffff;
      border-right: #ffffff;
      border-style: solid;
      border-width: 1px;
      padding: 2px;
    }

    #inputTable {
      border:1px solid #b3adad;
      border-collapse:collapse;
      padding:5px;
    }
    #inputTable td {
      border:1px solid #b3adad;
      padding:5px;
    }

    .card-header-accordion{
      padding: 0px 10px;
    }
    body, td, .btn {
      /*font-size:0.85rem;*/
    }
    label {
      margin-bottom: 0px;
    }
    .story-excerpt {
      margin: 40px auto;
      min-width: 500px;
      border:2px #333333;
      background-color: #f2f2f2;
      border-style: solid;
      padding-right:10px;
      padding-left:10px;
      display:table;
      border-radius:15px;
    }
    .story-excerpt-example {
      border: 1px solid #666666;
      background-color: #f2f2f2;
      border-radius: 3px;
      padding: 3px;
      display: inline-block;
      margin: 10px;
    }
    span.numbering {
      font-weight: bold;
      margin-right: .5em;
    }
    #introQuestion>div>label>input,
    #intentQuestion>div>label>input {
      vertical-align: middle;
    }
    .prefilled-message{
      font-style: italic;
    }

    #detailed-instructions>p {
      margin-bottom: 0px;
    }
    span.instrQuestion {
      background-color: #f2f2f2;
      font-style: italic;
      font-size: .9rem;
      margin: 5px 0 3px -15px;
      padding: 0 .3rem 0 .3rem;
      display: inline-block;
    }
    span.instrDescription {
      font-size: .9rem;
      margin-left: -15px;
    }
    label > input[type='text'] {
      width: 90%;
    }
    input[type='text'] {
      width: 300px;
    }
    input[type='text'].opt-target {
      background-color: #f8f8f8;
    }

    input[type="text"]:invalid {
      color: #a94442;
      background-color: #f2dede;
    }

    textarea#postText {
      margin-left: 20px;
      font-size: 12pt;
      width: auto;
      background-color: transparent;
      overflow: auto;
      resize: none;
    }

    .btn-checkbox, .btn-checkbox-two {
      .btn-light;
      color: black;
      text-align: left;
      margin: 0px;
      background-color: #e9ecef;
      border-color: #d1d4d7;
    }

    .btn-checkbox.active,
    .btn-checkbox:active,
    .btn-checkbox:hover {
      background-color: #babcbf;
      border-color: #8b8d8f;
    }

    .btn-checkbox-two.active,
    .btn-checkbox-two:active,
    .btn-checkbox-two:hover {
      background-color: #babcbf;
      border-color: #8b8d8f;
    }

    .btn-group-vertical {
      max-width: 400px;
      /*margin-right: 10px;*/
    }
    #introQuestion,
    #minorityQuestions,
    #demogQuestions {
      margin-bottom: 10px;
      margin-top: 10px;
    }
    .autocomplete-suggestions {
      border: 1px solid #999;
      background: #FFF;
      overflow: auto;
    }
    #dummyMinority {
      /*opacity:0;*/
      width: 0px;
    }
    .autocomplete-suggestion { padding: 2px 5px; white-space: nowrap; overflow: hidden; }
    .autocomplete-selected { background: #F0F0F0; }
    .autocomplete-suggestions strong { font-weight: normal; color: #3399FF; }
    .autocomplete-group { padding: 2px 5px; }
    .autocomplete-group strong { display: block; border-bottom: 1px solid #000; }

    input[type='checkbox'] {
      /* All <input> elements that are immediate children of a class="btn-checkbox" */
      margin-right: 5px;
    }
    ul {
      padding-left: 30px;
      margin-bottom: 10px;
    }
    fieldset {
      padding: 10px;
      background:#fbfbfb;
      border-radius:5px;
      margin-bottom:5px;
    }
    .lickert>label{
        font-style: italic;
      }

    .cb-teal {
      color: #1b9e77;
      font-weight: bold;

    }
    .cb-orange {
      color: #d95f02;
      font-weight: bold;
    }
    .cb-red {
      color: #e9252f;
      font-weight: bold;
    }
    .cb-purple {
      color: #7570b3;
      font-weight: bold;
    }
    .cb-pink {
      color: #e7298a;
      font-weight: bold;
    }
    .cb-green {
      color: #66a61e;
      font-weight: bold;
    }
    .cb-gold {
      color: #e6ab02;
      font-weight: bold;
    }
    .cb-brown{
      color: #a6761d;
      font-weight: bold;
    }
    .cb-gray{
      color: #3f3f3f;
    }
    .cb-bg-teal {
      background-color: #1b9e77
    }
    .cb-bg-orange {
      background-color: #d95f02
    }
    .cb-bg-purple {
      background-color: #7570b3
    }
    .cb-bg-pink {
      background-color: #e7298a
    }
    .cb-bg-green {
      background-color: #66a61e
    }
    .cb-bg-gold {
      background-color: #e6ab02
    }
    .cb-bg-brown{
      background-color: #a6761d
    }
    todo {
      font-style: italic;
      font-weight: bold;
      color: #e60000;
      background-color: black;
    }

    .possibleAnswer {
      margin-left: 2em;
    }
    .badTd {
      background: #FF8C8C;
    }
    .goodTd{
      background: #14C38E;
    }

    /*********************************/
    .imessage {
      background-color: #fff;
      border: 1px solid #e5e5ea;
      border-radius: 0.25rem;
      display: flex;
      flex-direction: column;
      /*font-family: "SanFrancisco";*/
      /*font-size: 1.25rem;*/
      margin: 0 auto 1rem;
      max-width: 600px;
      padding: 0.5rem 1.5rem;
    }

    .imessage p {
      border-radius: 1.15rem;
      line-height: 1.25;
      max-width: 75%;
      padding: 0.5rem .875rem;
      position: relative;
      word-wrap: break-word;
    }

    .imessage p::before,
    .imessage p::after {
      bottom: -0.1rem;
      content: "";
      height: 1rem;
      position: absolute;
    }

    p.from-me {
      align-self: flex-end;
      background-color: #248bf5;
      color: #fff;
    }

    p.from-me::before {
      border-bottom-left-radius: 0.8rem 0.7rem;
      border-right: 1rem solid #248bf5;
      right: -0.35rem;
      transform: translate(0, -0.1rem);
    }

    p.from-me::after {
      background-color: #fff;
      border-bottom-left-radius: 0.5rem;
      right: -40px;
      transform:translate(-30px, -2px);
      width: 10px;
    }

    p[class^="from-"] {
      margin: 0.5rem 0;
      width: fit-content;
    }

    p.from-me ~ p.from-me {
      margin: 0.25rem 0 0;
    }

    p.from-me ~ p.from-me:not(:last-child) {
      margin: 0.25rem 0 0;
    }

    p.from-me ~ p.from-me:last-child {
      margin-bottom: 0.5rem;
    }

    p.from-them {
      align-items: flex-start;
      background-color: #e5e5ea;
      color: #000;
    }

    p.from-them:before {
      border-bottom-right-radius: 0.8rem 0.7rem;
      border-left: 1rem solid #e5e5ea;
      left: -0.35rem;
      transform: translate(0, -0.1rem);
    }

    p.from-them::after {
      background-color: #fff;
      border-bottom-right-radius: 0.5rem;
      left: 20px;
      transform: translate(-30px, -2px);
      width: 10px;
    }

    p[class^="from-"].emoji {
      background: none;
      font-size: 2.5rem;
    }

    p[class^="from-"].emoji::before {
      content: none;
    }

    .no-tail::before {
      display: none;
    }

    .margin-b_none {
      margin-bottom: 0 !important;
    }

    .margin-b_one {
      margin-bottom: 1rem !important;
    }

    .margin-t_one {
      margin-top: 1rem !important;
    }
    .speaker {
      border-radius: .2em;
      background-color: #ACCFF2;/*#D5E7F9;*/
      padding: .5em;
    }
    .listener {
      border-radius: .2em;
      background-color: #CAE1F7;
      padding: .5em;
    }
    .situation {
      border-radius: .2em;
      background-color: #DDECFA;
      padding: .5em;
    }
</style>
